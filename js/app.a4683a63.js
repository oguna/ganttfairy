(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],u=0,v=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&v.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={app:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/ganttfairy/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"05ce":function(t,e,n){"use strict";n("3050")},"0cd4":function(t,e,n){},3050:function(t,e,n){},"3ad7":function(t,e,n){},4969:function(t,e,n){},"51a2":function(t,e,n){"use strict";n("e753")},5897:function(t,e,n){"use strict";n("620a")},"620a":function(t,e,n){},"620e":function(t,e,n){},a643:function(t,e,n){"use strict";n("0cd4")},ad17:function(t,e,n){"use strict";n("c2f3")},c2f3:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("side-bar",{model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}}),n("v-app-bar",{attrs:{app:"",color:"primary",dark:"",dense:"",elevation:"0"}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-toolbar-title",[t._v(" "+t._s(t.title)+" "),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{text:"",icon:"",small:""}},a),[n("v-icon",[t._v("mdi-chevron-down")])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-card",[n("v-card-text",[n("v-text-field",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1)],1)],1),n("v-spacer"),n("v-btn-toggle",{attrs:{group:"",tile:"",borderless:"",dense:""}},[n("v-btn",{attrs:{text:"",to:"/"}},[n("v-icon",[t._v("mdi-home")]),t._v(" Overview")],1),n("v-btn",{attrs:{text:"",to:"/table"}},[n("v-icon",[t._v("mdi-table")]),t._v(" Table")],1),n("v-btn",{attrs:{text:"",to:"/kanban"}},[n("v-icon",[t._v("mdi-bulletin-board")]),t._v(" Kanban")],1),n("v-btn",{attrs:{text:"",to:"/ganttchart"}},[n("v-icon",[t._v("mdi-chart-timeline")]),t._v(" Ganttchart")],1),n("v-btn",{attrs:{text:"",to:"/calendar"}},[n("v-icon",[t._v("mdi-calendar")]),t._v(" Calendar")],1)],1),n("v-spacer"),n("v-btn",{attrs:{text:"",icon:""}},[n("v-icon",[t._v("mdi-account")])],1)],1),n("v-main",[n("router-view")],1),n("v-footer",{staticClass:"py-0",attrs:{app:"",color:"primary",dark:"",dense:""}},[n("div",{staticClass:"px-2 body-2"},[t._v(t._s(t.numOfTasks)+" Tasks")]),n("v-menu",{attrs:{"offset-y":"",top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"px-2",attrs:{small:"",text:"",tile:"",dark:""}},a),[n("v-icon",{attrs:{small:""}},[t._v("mdi-magnify")]),t._v(" "+t._s(t.magnify)+"% ")],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",[n("v-list-item",{on:{click:function(e){return t.setMagnify(100)}}},[n("v-list-item-title",[t._v("100%")])],1),n("v-list-item",{on:{click:function(e){return t.setMagnify(50)}}},[n("v-list-item-title",[t._v("50%")])],1)],1)],1)],1),n("v-spacer"),n("v-btn",{staticClass:"px-2 text-none",attrs:{small:"",text:"",tile:"",dark:"",href:"https://oguna.github.io/ganttfairy/",target:"_blank"}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-github-circle")]),t._v(" Gantt Fairy by oguna ")],1)],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[t._v(" Application ")]),n("v-list-item-subtitle",[t._v(" subtext ")])],1)],1),n("v-divider"),n("v-list",{attrs:{dense:"",nav:""}},t._l(t.items,(function(e){return n("v-list-item",{key:e.title,attrs:{to:e.link,link:""}},[n("v-list-item-icon",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),1),n("v-divider"),n("v-list",{attrs:{dense:"",nav:""}},[n("v-subheader",[t._v("Projects")]),t._l(t.projects,(function(e){return n("v-list-item",{key:e,attrs:{link:""}},[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e))])],1)],1)}))],2),n("v-divider"),n("v-list",{attrs:{dense:"",nav:""}},[n("v-subheader",[t._v("Administration")]),n("v-list-item",{attrs:{link:"",to:"/users"}},[n("v-list-item-content",[n("v-list-item-title",[t._v(" Users ")])],1)],1)],1)],1)},o=[],c=n("a6f4"),l=Object(c["a"])({computed:{drawer:{set:function(t){this.$emit("input",t)},get:function(){return this.value}},items:function(){return[{icon:"mdi-home",title:"Overview",link:"/"},{icon:"mdi-table",title:"Table",link:"/table"},{icon:"mdi-bulletin-board",title:"Kanban",link:"/kanban"},{icon:"mdi-chart-timeline",title:"Ganttchart",link:"/ganttchart"},{icon:"mdi-calendar",title:"Calendar",link:"/calendar"}]},projects:function(){return["Unnamed"]}},props:{value:Boolean},emits:{input:function(t){return!0}}}),d=l,u=n("2877"),v=n("6544"),f=n.n(v),h=n("ce7e"),p=n("132d"),g=n("8860"),m=n("da13"),k=n("5d23"),b=n("34c3"),y=n("f774"),_=n("e0c7"),x=Object(u["a"])(d,r,o,!1,null,null,null),T=x.exports;f()(x,{VDivider:h["a"],VIcon:p["a"],VList:g["a"],VListItem:m["a"],VListItemContent:k["a"],VListItemIcon:b["a"],VListItemSubtitle:k["b"],VListItemTitle:k["c"],VNavigationDrawer:y["a"],VSubheader:_["a"]});var D=Object(c["a"])({data:function(){return{drawer:!1,menu:!1}},computed:{title:{get:function(){return this.$store.state.title},set:function(t){this.$store.commit("setTitle",t)}},numOfTasks:function(){return this.$store.state.tasks.length},magnify:function(){return this.$store.state.magnify}},methods:{setMagnify:function(t){this.$store.commit("setMagnify",t)}},components:{SideBar:T}}),O=D,S=n("7496"),w=n("40dc"),I=n("5bc1"),j=n("8336"),V=n("a609"),C=n("b0af"),M=n("99d9"),$=n("553a"),E=n("1baa"),N=n("f6c4"),F=n("e449"),R=n("2fa4"),W=n("8654"),L=n("2a7f"),B=Object(u["a"])(O,s,i,!1,null,null,null),P=B.exports;f()(B,{VApp:S["a"],VAppBar:w["a"],VAppBarNavIcon:I["a"],VBtn:j["a"],VBtnToggle:V["a"],VCard:C["a"],VCardText:M["b"],VFooter:$["a"],VIcon:p["a"],VList:g["a"],VListItem:m["a"],VListItemGroup:E["a"],VListItemTitle:k["c"],VMain:N["a"],VMenu:F["a"],VSpacer:R["a"],VTextField:W["a"],VToolbarTitle:L["b"]});var A=n("8c4f"),H=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h1",[t._v("home")]),t._v(" This is a demo for Gannt Fairy. ")])}],G={},U=Object(u["a"])(G,H,z,!1,null,null,null),X=U.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ganttchart"},[n("v-toolbar",{attrs:{dense:"",elevation:"1"}},[n("v-toolbar-items",[n("v-icon",[t._v("mdi-calendar")]),n("v-menu",{ref:"startDateMenu",attrs:{"close-on-content-click":!1,"return-value":t.startDateISOString,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.startDateISOString=e},"update:return-value":function(e){t.startDateISOString=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{text:""}},a),[t._v(t._s(t.startDateISOString))])]}}]),model:{value:t.startDateMenu,callback:function(e){t.startDateMenu=e},expression:"startDateMenu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.startDateISOString,callback:function(e){t.startDateISOString=e},expression:"startDateISOString"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.startDateMenu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.startDateMenu.save(t.startDateISOString)}}},[t._v("OK")])],1)],1),n("span",{staticClass:"my-auto"},[t._v("～")]),n("v-menu",{ref:"endDateMenu",attrs:{"close-on-content-click":!1,"return-value":t.endDateISOString,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.endDateISOString=e},"update:return-value":function(e){t.endDateISOString=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{text:""}},a),[t._v(t._s(t.endDateISOString))])]}}]),model:{value:t.endDateMenu,callback:function(e){t.endDateMenu=e},expression:"endDateMenu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.endDateISOString,callback:function(e){t.endDateISOString=e},expression:"endDateISOString"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.endDateMenu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.endDateMenu.save(t.endDateISOString)}}},[t._v("OK")])],1)],1),n("v-btn",{attrs:{text:""},on:{click:t.adjustTimespan}},[n("v-icon",[t._v("mdi-arrow-expand-horizontal")])],1),n("v-divider",{attrs:{vertical:"",inset:""}}),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"text-none",attrs:{text:""}},a),[n("v-icon",[t._v("mdi-page-layout-header")]),t._v("Header ")],1)]}}])},[n("v-list",[n("v-list-item-group",[n("v-list-item",[n("v-list-item-title",[t._v("Not Implemented")])],1)],1)],1)],1),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"text-none",attrs:{text:""}},a),[n("v-icon",[t._v("mdi-filter")]),t._v("Filter ")],1)]}}])},[n("v-list",[n("v-list-item-group",[n("v-list-item",[n("v-list-item-title",[t._v("Not Implemented")])],1)],1)],1)],1),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"text-none",attrs:{text:""}},a),[n("v-icon",[t._v("mdi-format-color-fill")]),t._v("Color ")],1)]}}])},[n("v-list",[n("v-list-item-group",[n("v-list-item",[n("v-list-item-title",[t._v("Not Implemented")])],1)],1)],1)],1),n("v-btn",{staticClass:"text-none",attrs:{text:""},on:{click:function(e){return t.openTaskDialog(null)}}},[n("v-icon",[t._v("mdi-plus")])],1)],1),n("v-spacer"),n("v-toolbar-items",[n("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"text-none",attrs:{text:""}},a),[n("v-icon",[t._v("mdi-import")]),t._v("Import ")],1)]}}]),model:{value:t.importDialog,callback:function(e){t.importDialog=e},expression:"importDialog"}},[n("import-card",{on:{close:function(e){t.importDialog=!1}}})],1),n("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"text-none",attrs:{text:""}},a),[n("v-icon",[t._v("mdi-export")]),t._v("Export ")],1)]}}]),model:{value:t.exportDialog,callback:function(e){t.exportDialog=e},expression:"exportDialog"}},[n("export-card",{on:{close:function(e){t.exportDialog=!1}}})],1)],1)],1),n("div",{staticClass:"gantt",staticStyle:{"white-space":"nowrap"},style:t.styles},[n("div",{staticClass:"left"},[n("div",{staticClass:"left_header"}),n("draggable-tree-view",{staticStyle:{"overflow-x":"hidden"},attrs:{taskTree:t.taskTree},on:{"open-dialog":t.openTaskDialog},model:{value:t.selectedTaskId,callback:function(e){t.selectedTaskId=e},expression:"selectedTaskId"}})],1),n("div",{staticClass:"grip disable-select",attrs:{draggable:"true"},on:{dragstart:t.dragstart,dragend:t.dragend}}),n("div",{staticClass:"right"},[n("div",{staticClass:"right_header"},[n("div",{staticClass:"month_header"},t._l(t.sameMonthLength,(function(e,a){return n("div",{key:a,staticClass:"date",style:"width:"+e.length*t.dateWidth+"px"},[t._v(" "+t._s(t.format(t.dates[e.start],"yyyy-MM"))+" ")])})),0),n("div",{staticClass:"date_header"},t._l(t.dates,(function(e){return n("div",{key:e.getTime(),staticClass:"date"},[t._v(t._s(e.getDate()))])})),0),n("div",{staticClass:"week_header"},t._l(t.dates,(function(e){return n("div",{key:e.getTime(),staticClass:"date"},[t._v(t._s("SMTWTFS"[e.getDay()]))])})),0)]),n("gantt-chart",{attrs:{start:t.startDate,end:t.endDate,tasks:t.flatTreeTasks,dates:t.dates,dateWidth:t.dateWidth},model:{value:t.selectedTaskId,callback:function(e){t.selectedTaskId=e},expression:"selectedTaskId"}})],1)]),n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.taskDialog,callback:function(e){t.taskDialog=e},expression:"taskDialog"}},[n("task-card",{attrs:{task:t.edittingTask},on:{close:t.closeTaskDialog,submit:t.saveTaskDialog,setParent:function(e){t.edittingTask.parent=e},setTitle:function(e){t.edittingTask.title=e}}})],1)],1)},Y=[],J=(n("d81d"),n("b166")),q=n("4e31"),Q=n("2cf3"),Z=n("f7f1"),tt=n("5888"),et=n("856d"),nt=n("1b16"),at=n("5dea"),st=n("25f0d"),it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v("#"+t._s(t.task.id||"new"))]),n("v-card-text",[n("v-text-field",{attrs:{value:t.task.title,label:"Title"},on:{input:function(e){return t.$emit("setTitle",e)}}}),n("v-menu",{ref:t.startMenu,attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Start","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.startDateISOString,callback:function(e){t.startDateISOString=e},expression:"startDateISOString"}},a))]}}]),model:{value:t.startMenu,callback:function(e){t.startMenu=e},expression:"startMenu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.startDateISOString,callback:function(e){t.startDateISOString=e},expression:"startDateISOString"}})],1),n("v-menu",{ref:t.endMenu,attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"End","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.endDateISOString,callback:function(e){t.endDateISOString=e},expression:"endDateISOString"}},a))]}}]),model:{value:t.endMenu,callback:function(e){t.endMenu=e},expression:"endMenu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.endDateISOString,callback:function(e){t.endDateISOString=e},expression:"endDateISOString"}})],1),n("v-divider"),n("v-label",[t._v("Parent & Children")]),n("v-select",{attrs:{value:t.task.parent,clearable:"",items:t.tasksOtherThanThisAndSiblingTasks,"item-text":"text","item-value":"value",label:"Parent"},on:{input:function(e){return t.$emit("setParent",e)}}}),n("v-list",{attrs:{dense:""}},[n("v-subheader",[t._v(t._s(t.childPluralization))]),n("v-list-item-group",t._l(t.children,(function(e){return n("v-list-item",{key:e.id},[n("v-list-item-content",[n("v-list-item-title",[t._v(" #"+t._s(e.id)+": "+t._s(e.title)+" ")])],1),n("v-list-item-icon",[n("v-btn",{attrs:{icon:"",small:""},on:{click:function(n){return t.deleteChild(e)}}},[n("v-icon",[t._v("mdi-delete")])],1)],1)],1)})),1)],1),n("v-divider"),n("v-label",[t._v("Dependency")]),n("v-list",{attrs:{dense:""}},[n("v-list-item-group",t._l(t.dependenciesToThis,(function(e){return n("v-list-item",{key:e.id},[n("v-list-item-content",[n("v-list-item-title",[t._v(" "+t._s(e.text)+" ")])],1),n("v-list-item-icon",[n("v-btn",{attrs:{icon:"",small:""},on:{click:function(n){return t.deleteDependency(e.id)}}},[n("v-icon",[t._v("mdi-delete")])],1)],1)],1)})),1)],1),n("v-select",{attrs:{items:t.dependencyTypes,label:"New dependency type"},model:{value:t.dependencyType,callback:function(e){t.dependencyType=e},expression:"dependencyType"}}),n("v-select",{attrs:{items:t.tasksForNewDependency,"item-text":"text","item-value":"value",label:"New dependency from"},model:{value:t.dependencyTask,callback:function(e){t.dependencyTask=e},expression:"dependencyTask"}}),n("v-btn",{attrs:{disabled:!t.dependencyTask,block:""},on:{click:t.addNewDependency}},[t._v("New Dependency")])],1),n("v-divider"),n("v-card-actions",[null!==t.task.id?n("v-btn",{attrs:{text:"",color:"red",outlined:""},on:{click:this.delete}},[t._v("Delete")]):t._e(),n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.submit}},[t._v("Submit")])],1)],1)},rt=[],ot=(n("4de4"),n("99af"),n("caad"),n("2532"),Object(c["a"])({props:{task:Object},data:function(){return{dependencyType:0,dependencyTask:null,startMenu:!1,endMenu:!1}},emits:["setTitle","setParent"],computed:{dependencyTypes:function(){return[{text:"FS: FinishToStart",value:0},{text:"SS: StartToStart",value:1},{text:"FF: FinishToFinish",value:2},{text:"SF: StartToFinish",value:3}]},tasks:function(){return this.$store.state.tasks},tasksForNewDependency:function(){var t=this;return this.$store.state.tasks.filter((function(e){return e.id!==t.task.id})).map((function(t){return{text:"#".concat(t.id,": ").concat(t.title),value:t.id}}))},dependenciesToThis:function(){var t=this,e=["FS","SS","FF","SF"];return this.$store.state.dependencies.filter((function(e){return e.to===t.task.id})).map((function(n){return{text:"".concat(e[n.type]," - # ").concat(n.id,": ").concat(t.$store.getters.getTaskById(n.id).title),id:n.id}}))},startDateISOString:{get:function(){return Object(J["a"])(this.task.start,"yyyy-MM-dd")},set:function(t){this.task.start=Object(Q["a"])(t,"yyyy-MM-dd",new Date)}},endDateISOString:{get:function(){return Object(J["a"])(this.task.end,"yyyy-MM-dd")},set:function(t){this.task.end=Object(Q["a"])(t,"yyyy-MM-dd",new Date)}},tasksOtherThanThisAndSiblingTasks:function(){var t=this,e=this.$store.getters.getSiblingTasksById(this.task.id),n=e.map((function(t){return t.id}));return this.$store.state.tasks.filter((function(e){return e.id!==t.task.id&&!n.includes(e.id)})).map((function(t){return{text:"#".concat(t.id," ").concat(t.title),value:t.id}}))},children:function(){return this.$store.getters.getChildrenTasksById(this.task.id)},childPluralization:function(){var t=this.children.length;return 0===t?"No children":1===t?"1 child":t+" children"}},methods:{addNewDependency:function(){void 0!==this.dependencyTask&&null!==this.dependencyTask&&(this.$store.commit("addDependency",{from:this.dependencyTask,to:this.task.id,type:this.dependencyType}),this.dependencyTask=null,this.dependencyType=0)},deleteChild:function(t){t.parent=null},close:function(){this.$emit("close")},submit:function(){this.$emit("submit")},delete:function(){this.$store.commit("deleteTask",this.task.id),this.$emit("close")},deleteDependency:function(t){this.$store.commit("deleteDependency",t)}}})),ct=ot,lt=n("2e4b"),dt=n("24c9"),ut=n("b974"),vt=Object(u["a"])(ct,it,rt,!1,null,null,null),ft=vt.exports;f()(vt,{VBtn:j["a"],VCard:C["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VDatePicker:lt["a"],VDivider:h["a"],VIcon:p["a"],VLabel:dt["a"],VList:g["a"],VListItem:m["a"],VListItemContent:k["a"],VListItemGroup:E["a"],VListItemIcon:b["a"],VListItemTitle:k["c"],VMenu:F["a"],VSelect:ut["a"],VSpacer:R["a"],VSubheader:_["a"],VTextField:W["a"]});var ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v("Export")]),n("v-card-text",[n("v-select",{attrs:{label:"Column Separator",items:t.items},model:{value:t.separator,callback:function(e){t.separator=e},expression:"separator"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.submit}},[t._v("Export")])],1)],1)},pt=[],gt=(n("ace4"),n("d3b7"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("3ca3"),n("ddb0"),n("2b3d"),Object(c["a"])({data:function(){return{separator:","}},computed:{items:function(){return[{text:"Comma",value:","},{text:"Tab",value:"\t"}]}},methods:{close:function(){this.$emit("close")},submit:function(){var t=this;this.$store.dispatch("exportCSV",{separator:this.separator}).then((function(e){var n=new Uint8Array([239,187,191]),a=new Blob([n,e],{type:"text/csv"}),s=document.createElement("a");s.href=window.URL.createObjectURL(a),s.download=t.$store.state.title+".csv",s.click()})).then((function(e){t.$emit("close")}))}}})),mt=gt,kt=Object(u["a"])(mt,ht,pt,!1,null,null,null),bt=kt.exports;f()(kt,{VBtn:j["a"],VCard:C["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VSelect:ut["a"],VSpacer:R["a"]});var yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v("Import")]),n("v-card-text",[n("v-textarea",{attrs:{outlined:"",label:"CSV"},model:{value:t.csv,callback:function(e){t.csv=e},expression:"csv"}}),n("span",{staticClass:"red"},[t._v(t._s(t.message))])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.submit}},[t._v("Import")])],1)],1)},_t=[],xt=Object(c["a"])({data:function(){return{csv:"",message:"",separator:","}},methods:{close:function(){this.$emit("close")},submit:function(){var t=this;this.$store.dispatch("importCSV",this.csv).then((function(e){t.csv="",t.message="",t.$emit("close")})).catch((function(e){t.message=e}))}}}),Tt=xt,Dt=n("a844"),Ot=Object(u["a"])(Tt,yt,_t,!1,null,null,null),St=Ot.exports;f()(Ot,{VBtn:j["a"],VCard:C["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VSpacer:R["a"],VTextarea:Dt["a"]});var wt,It,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,"aria-labelledby":t.title,box:"",role:"presentation"},on:{mousemove:t.taskMousemove,mouseup:t.taskMouseup}},[n("title",{attrs:{id:"ganttchart",lang:"en"}},[t._v(t._s(t.title))]),t.activeRect?n("rect",{attrs:{x:t.activeRect.x,y:t.activeRect.y,width:t.activeRect.w,height:t.activeRect.h,fill:"whitesmoke"}}):t._e(),t._l(t.weekendRects,(function(t,e){return n("rect",{key:"weekend"+e,staticClass:"weekend",attrs:{x:t.x,y:t.y,width:t.w,height:t.h}})})),n("g",{staticClass:"foldedRect"},t._l(t.siblingRects,(function(t,e){return n("rect",{key:e,attrs:{x:t.x,y:t.y,width:t.w,height:t.h}})})),0),t._l(t.boxes,(function(e,a){return[n("rect",{key:"leftgrip"+a,staticClass:"grip",attrs:{x:e.x-8,y:e.y,width:"8px",height:e.h},on:{mousedown:function(e){return t.taskStartMousedown(a,e)}}}),n("rect",{key:a,staticClass:"box",class:{selected:t.selectedRect===a},attrs:{x:e.x,y:e.y,width:e.w,height:e.h},on:{mousedown:function(e){return t.taskMousedown(a,e)}}}),n("rect",{key:"rightgrip"+a,staticClass:"grip",attrs:{x:e.x+e.w,y:e.y,width:"8px",height:e.h},on:{mousedown:function(e){return t.taskEndMousedown(a,e)}}})]})),n("g",{attrs:{stroke:"black","stroke-width":"3"}},[n("marker",{attrs:{id:"m_e",viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",preserveAspectRatio:"none",markerWidth:"3",markerHeight:"3",orient:"auto"}},[n("polygon",{attrs:{points:"5,10 5,5 0,5",fill:"black",id:"ms"}})]),n("marker",{attrs:{id:"m_s",viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",preserveAspectRatio:"none",markerWidth:"3",markerHeight:"3",orient:"auto"}},[n("use",{attrs:{"xlink:href":"#ms",transform:"rotate(270,5,5)"}})]),t._l(t.accumulatedPeriods,(function(t,e){return[n("line",{key:"span"+e,attrs:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,"marker-start":"url(#m_s)","marker-end":"url(#m_e)"}})]}))],2),n("g",{attrs:{stroke:"black","stroke-width":"1"}},[n("marker",{attrs:{id:"arrow",viewBox:"-5 -5 10 10",orient:"auto",markerWidth:"10",markerHeight:"10"}},[n("polygon",{attrs:{points:"-5,-5 5,0 -5,5",fill:"black",stroke:"none"}})]),t._l(t.dependencyGraphs,(function(t,e){return n("line",{key:"dependency"+e,attrs:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,"marker-end":"url(#arrow)"}})}))],2),n("g",{attrs:{"font-family":"sans-serif","font-size":"12","dominant-baseline":"middle"}},t._l(t.tasks,(function(e,a){return n("text",{key:a,attrs:{x:t.taskLabels[a].x+12,y:t.taskLabels[a].y,fill:"blue"}},[t._v(t._s(e.title))])})),0)],2)},Vt=[],Ct=n("b85c");n("a9e3"),n("c740");(function(t){t[t["FinishToStart"]=0]="FinishToStart",t[t["StartToStart"]=1]="StartToStart",t[t["FinishToFinish"]=2]="FinishToFinish",t[t["StartToFinish"]=3]="StartToFinish"})(wt||(wt={})),function(t){t[t["TODO"]=0]="TODO",t[t["WIP"]=1]="WIP",t[t["DONE"]=2]="DONE"}(It||(It={}));var Mt=n("817a"),$t=Object(c["a"])({props:{title:String,tasks:Array,start:Date,end:Date,dates:Array,dateWidth:{type:Number,default:24},lineHeight:{type:Number,default:24},value:Number},emits:["input"],data:function(){return{selectedRect:null,selectedPos:null,selectedDelta:null,selectedType:null}},computed:{activeRect:function(){var t=this,e=this.tasks.findIndex((function(e){return e.id===t.value}));return-1===e?null:{x:0,y:this.lineHeight*e,w:this.width,h:24}},height:function(){return this.tasks.length*this.lineHeight},width:function(){return this.dates.length*this.dateWidth},boxes:function(){for(var t=[],e=0;e<this.tasks.length;e++){var n=this.tasks[e],a=Object(Mt["a"])(n.start,this.start)*this.dateWidth,s=this.lineHeight*e+4,i=(Object(Mt["a"])(n.end,n.start)+1)*this.dateWidth;i<0&&(i=-i),a<0&&(a=0,i+=a),this.selectedRect===e&&"task"===this.selectedType&&(a+=this.selectedDelta*this.dateWidth),this.selectedRect===e&&"start"===this.selectedType&&(a+=this.selectedDelta*this.dateWidth,i-=this.selectedDelta*this.dateWidth),this.selectedRect===e&&"end"===this.selectedType&&(i+=this.selectedDelta*this.dateWidth),t.push({x:a,y:s,w:i,h:16})}return t},siblingRects:function(){for(var t=new Array,e=0;e<this.tasks.length;e++){var n,a=this.tasks[e],s=this.$store.getters.getDeduplicatedSpansOfSiblingTask(a.id),i=Object(Ct["a"])(s);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=Object(Mt["a"])(r.s,this.start)*this.dateWidth,c=this.lineHeight*e+4,l=(Math.abs(Object(Mt["a"])(r.s,r.e))+1)*this.dateWidth,d=16;t.push({x:o,y:c,w:l,h:d})}}catch(u){i.e(u)}finally{i.f()}}return t},weekendRects:function(){for(var t=[],e=0;e<this.dates.length;e++)6!==this.dates[e].getDay()&&0!==this.dates[e].getDay()||t.push({x:e*this.dateWidth,y:0,w:this.dateWidth,h:this.lineHeight*this.tasks.length});return t},accumulatedPeriods:function(){for(var t=new Array,e=0;e<this.tasks.length;e++){var n=this.tasks[e],a=this.$store.getters.getFastDateLastDateOfTasks(n.id);if(null!==a){var s=a.fast,i=a.last,r=Object(Mt["a"])(s,this.start)*this.dateWidth,o=(Object(Mt["a"])(i,this.start)+1)*this.dateWidth,c=this.lineHeight*e+2;t.push({x1:r,x2:o,y1:c,y2:c})}}return t},dependencyGraphs:function(){var t,e=this,n=new Array,a=Object(Ct["a"])(this.$store.state.dependencies);try{var s=function(){var a=t.value,s=e.$store.getters.getTaskById(a.from),i=e.$store.getters.getTaskById(a.to),r=e.tasks.findIndex((function(t){return t.id===a.from})),o=e.tasks.findIndex((function(t){return t.id===a.to}));if(-1===r||-1===o)return"continue";var c=0;c=a.type===wt.StartToStart||a.type===wt.StartToFinish?Object(Mt["a"])(s.start,e.start)*e.dateWidth:(Object(Mt["a"])(s.end,e.start)+1)*e.dateWidth;var l=0;l=a.type===wt.FinishToStart||a.type===wt.StartToStart?Object(Mt["a"])(i.start,e.start)*e.dateWidth:(Object(Mt["a"])(i.end,e.start)+1)*e.dateWidth;var d=r*e.lineHeight+e.lineHeight/2,u=o*e.lineHeight+e.lineHeight/2;n.push({x1:c,y1:d,x2:l,y2:u})};for(a.s();!(t=a.n()).done;)s()}catch(i){a.e(i)}finally{a.f()}return n},taskLabels:function(){for(var t=[],e=0;e<this.tasks.length;e++){var n=this.tasks[e],a=Object(Mt["a"])(n.start,this.start)*this.dateWidth,s=this.lineHeight*e+this.lineHeight/2,i=(Object(Mt["a"])(n.end,n.start)+1)*this.dateWidth;i<0&&(i=-i),a=i+a,a<0&&(a=0),this.selectedRect===e&&"task"===this.selectedType&&(a+=this.selectedDelta*this.dateWidth),this.selectedRect===e&&"end"===this.selectedType&&(a+=this.selectedDelta*this.dateWidth),t.push({x:a,y:s})}return t}},methods:{taskMousedown:function(t,e){0===e.button&&(this.$emit("input",this.tasks[t].id),this.selectedRect=t,this.selectedPos={x:e.clientX,y:e.clientY},e.preventDefault(),this.selectedType="task")},taskStartMousedown:function(t,e){0===e.button&&(this.selectedRect=t,this.selectedPos={x:e.clientX,y:e.clientY},e.preventDefault(),this.selectedType="start")},taskEndMousedown:function(t,e){0===e.button&&(this.selectedRect=t,this.selectedPos={x:e.clientX,y:e.clientY},e.preventDefault(),this.selectedType="end")},taskMousemove:function(t){if(null!==this.selectedRect){var e=t.clientX-this.selectedPos.x;this.selectedDelta=Math.round(e/this.dateWidth)}},taskMouseup:function(t){null!==this.selectedDelta&&("start"===this.selectedType&&(this.tasks[this.selectedRect].start=Object(Z["a"])(this.tasks[this.selectedRect].start,this.selectedDelta)),"end"===this.selectedType&&(this.tasks[this.selectedRect].end=Object(Z["a"])(this.tasks[this.selectedRect].end,this.selectedDelta)),"task"===this.selectedType&&(this.tasks[this.selectedRect].start=Object(Z["a"])(this.tasks[this.selectedRect].start,this.selectedDelta),this.tasks[this.selectedRect].end=Object(Z["a"])(this.tasks[this.selectedRect].end,this.selectedDelta))),this.selectedRect=null,this.selectedPos=null,this.selectedDelta=null,this.selectedType=null}}}),Et=$t,Nt=(n("d217"),Object(u["a"])(Et,jt,Vt,!1,null,"37299792",null)),Ft=Nt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.taskTree,(function(e){return n("draggable-tree-view-node",{key:e.id,attrs:{value:t.value,node:e,indent:0},on:{input:t.input,"open-dialog":t.openDialog,openClose:function(t){e.open=!e.open}}})})),1)},Wt=[],Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"this",class:{active:t.task.id===t.value},on:{click:function(e){return t.input(t.task.id)}}},[n("v-icon",{staticClass:"grip",attrs:{small:""}},[t._v("mdi-drag-vertical")]),n("span",{style:"padding-left:"+12*t.indent+"px"},[t.children.length>0?n("v-btn",{attrs:{text:"",icon:"","x-small":""},on:{click:function(e){return t.$emit("openClose")}}},[t.node.open?n("v-icon",[t._v("mdi-menu-down")]):n("v-icon",[t._v("mdi-menu-right")])],1):n("span",{staticStyle:{"padding-left":"24px"}}),n("span",{staticStyle:{border:"#dddddd solid 1px",cursor:"pointer"},on:{click:function(e){return t.openDialog(t.task)}}},[t._v("#"+t._s(this.task.id))]),n("editable-text",{staticClass:"mx-1",attrs:{v:t.task.title,editable:t.task.id===t.value},on:{"update:v":function(e){t.task.title=e}}}),t.task.parent?n("v-chip",{attrs:{"x-small":"",outlined:""}},[t._v("Parent:#"+t._s(t.task.parent))]):t._e(),t._l(t.dependencies(t.task.id),(function(e){return n("v-chip",{key:e.id,attrs:{"x-small":"",outlined:""}},[t._v(t._s(e.text))])}))],2)],1),t.node.open&&t.node.children.length>0?n("div",{staticClass:"children"},t._l(t.node.children,(function(e){return n("draggable-tree-view-node",{key:e.id,attrs:{node:e,indent:t.indent+1,value:t.value},on:{input:t.input,"open-dialog":t.openDialog,openClose:function(t){e.open=!e.open}}})})),1):t._e()])},Bt=[],Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"textfield",attrs:{contenteditable:t.editable},domProps:{textContent:t._s(t.text)},on:{input:t.update,focus:t.focus,blur:t.blur,paste:t.handlePaste}})},At=[],Ht=Object(c["a"])({props:{v:String,editable:Boolean},data:function(){return{text:"",focusIn:!1}},emits:["update:v"],mounted:function(){this.text=this.v},methods:{input:function(t){this.$emit("update:v",t)},update:function(t){var e=t.target;this.input(e.innerText)},focus:function(){this.focusIn=!0},blur:function(){this.focusIn=!1},handlePaste:function(t){var e=t.clipboardData.getData("text/plain"),n=window.getSelection();null!==n&&n.rangeCount&&(n.deleteFromDocument(),n.getRangeAt(0).insertNode(document.createTextNode(e)),this.text=this.$refs.textfield.innerText,this.input(this.text),t.preventDefault())}},watch:{v:function(t,e){this.focusIn||(this.text=this.v)}}}),zt=Ht,Gt=(n("f55c"),Object(u["a"])(zt,Pt,At,!1,null,"3a6cfdfe",null)),Ut=Gt.exports,Xt=Object(c["a"])({name:"draggable-tree-view-node",props:{node:Object,indent:Number,value:Number},data:function(){return{dragging:!1}},emitds:["open-dialog","input","openClose"],computed:{task:function(){return this.$store.getters.getTaskById(this.node.id)},children:function(){return this.$store.getters.getChildrenTasksById(this.node.id)}},methods:{openDialog:function(t){this.$emit("open-dialog",t)},input:function(t){this.$emit("input",t)},dependencies:function(t){var e=["FS","SS","FF","SF"];return this.$store.state.dependencies.filter((function(e){return e.to===t})).map((function(t){return{text:"".concat(e[t.type],"#").concat(t.id),value:t.id}}))}},components:{"editable-text":Ut}}),Kt=Xt,Yt=(n("05ce"),n("cc20")),Jt=Object(u["a"])(Kt,Lt,Bt,!1,null,"25ec3d96",null),qt=Jt.exports;f()(Jt,{VBtn:j["a"],VChip:Yt["a"],VIcon:p["a"]});var Qt=Object(c["a"])({props:{taskTree:Array,value:Number},data:function(){return{selectedTaskId:0}},emits:{openDialog:function(t){return!0},input:function(t){return!0}},methods:{openDialog:function(t){this.$emit("open-dialog",t)},input:function(t){this.$emit("input",t)}},components:{"draggable-tree-view-node":qt}}),Zt=Qt,te=Object(u["a"])(Zt,Rt,Wt,!1,null,"0a4844dd",null),ee=te.exports,ne=Object(c["a"])({components:{TaskCard:ft,ExportCard:bt,ImportCard:St,GanttChart:Ft,DraggableTreeView:ee},props:{taskId:String},data:function(){return{startDateMenu:!1,endDateMenu:!1,startDate:new Date(2019,10,1),endDate:new Date(2020,1,10),format:J["a"],isToday:q["a"],taskDialog:!1,edittingTask:null,exportDialog:!1,importDialog:!1,selectedTaskId:0,gripOffset:200}},computed:{startDateISOString:{get:function(){return Object(J["a"])(this.startDate,"yyyy-MM-dd")},set:function(t){this.startDate=Object(Q["a"])(t,"yyyy-MM-dd",new Date)}},endDateISOString:{get:function(){return Object(J["a"])(this.endDate,"yyyy-MM-dd")},set:function(t){this.endDate=Object(Q["a"])(t,"yyyy-MM-dd",new Date)}},taskTree:function(){return this.$store.state.taskTreeNodes},items:function(){return this.$store.state.tasks},flatTreeTasks:function(){return this.$store.getters.getFlatTreeTasks},dates:function(){var t=[],e=new Date(this.startDate),n=new Date(this.endDate);while(e<=n)t.push(e),e=Object(Z["a"])(e,1);return t},sameMonthLength:function(){for(var t=this.dates,e=this.dates[0],n=[{start:0,length:1}],a=1;a<t.length;a++)Object(tt["a"])(e,t[a])?n[n.length-1].length++:(e=t[a],n.push({start:a,length:1}));return n},dateWidth:function(){return Math.round(24*this.$store.state.magnify/100)},tasks:function(){return this.$store.state.tasks},styles:function(){return{"--gripOffset":"".concat(this.gripOffset,"px"),"--numOfTasks":this.tasks.length,"--dateWidth":this.dateWidth+"px","--ganttWidth":this.dateWidth*this.dates.length+"px","--screenWidth":this.dateWidth*this.dates.length+this.gripOffset+"px"}}},methods:{getWeekOfDays:function(t){return Object(J["a"])(t,"EEEEEE",{locale:st["a"]})},isHoriday:function(t){return Object(et["a"])(t)||Object(nt["a"])(t)},isActiveTask:function(t,e,n){return t<=n&&n<=e},openTaskDialog:function(t){this.edittingTask=null===t?{id:0,parent:null,title:"",start:new Date,end:new Date,status:null}:Object.assign({},t),this.taskDialog=!0},closeTaskDialog:function(){this.taskDialog=!1},saveTaskDialog:function(){0===this.edittingTask.id?this.$store.commit("addTask",this.edittingTask):this.$store.dispatch("updateTaskWithTree",this.edittingTask),this.closeTaskDialog()},deleteTask:function(t){this.$store.commit("deleteTask",t)},adjustTimespan:function(){var t=this.items.map((function(t){return t.start})).reduce((function(t,e){return t<e?t:e})),e=this.items.map((function(t){return t.end})).reduce((function(t,e){return t>e?t:e}));this.startDate=Object(at["a"])(t,1),this.endDate=Object(Z["a"])(e,1)},dragstart:function(t){t.dataTransfer.dropEffect="none"},dragend:function(t){this.gripOffset=t.clientX}}}),ae=ne,se=(n("ad17"),n("169a")),ie=n("71d9"),re=Object(u["a"])(ae,K,Y,!1,null,"094c82fa",null),oe=re.exports;f()(re,{VBtn:j["a"],VDatePicker:lt["a"],VDialog:se["a"],VDivider:h["a"],VIcon:p["a"],VList:g["a"],VListItem:m["a"],VListItemGroup:E["a"],VListItemTitle:k["c"],VMenu:F["a"],VSpacer:R["a"],VToolbar:ie["a"],VToolbarItems:L["a"]});var ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("v-toolbar",{attrs:{dense:"",flat:""}},[n("v-toolbar-title",[t._v(" Table ")]),n("v-divider",{staticClass:"mx-4",attrs:{vertical:""}})],1),n("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",{staticClass:"blue-grey lighten-5"},[n("tr",[n("th",[t._v("#")]),n("th",[t._v("Title")]),n("th",[t._v("Start")]),n("th",[t._v("End")]),n("th",[t._v("Days")]),n("th",[t._v("Status")])])]),n("tbody",t._l(t.tasks,(function(e){return n("tr",{key:e.id},[n("td",[n("v-btn",{attrs:{text:"",small:""},on:{click:function(n){return t.openTaskDialog(e)}}},[t._v(t._s(e.id))])],1),n("td",[n("editable-text",{attrs:{v:e.title,editable:""},on:{"update:v":function(t){e.title=t}}})],1),n("td",[t._v(t._s(t.dateLocalize(e.start)))]),n("td",[t._v(t._s(t.dateLocalize(e.end)))]),n("td",[t._v(t._s(Math.abs(t.differenceInDays(e.end,e.start)+1)))]),n("td",[n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[n("v-btn",t._g({attrs:{text:"",small:""}},s),[t._v(" "+t._s(t.getStatusLabel(e.status))+" ")])]}}],null,!0)},[n("v-list",[n("v-list-item-group",{model:{value:e.status,callback:function(n){t.$set(e,"status",n)},expression:"task.status"}},[n("v-list-item",{attrs:{value:"0",dense:""}},[t._v(" TODO ")]),n("v-list-item",{attrs:{value:"1",dense:""}},[t._v(" WIP ")]),n("v-list-item",{attrs:{value:"2",dense:""}},[t._v(" DONE ")])],1)],1)],1)],1)])})),0)]},proxy:!0}])}),n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("task-card",{attrs:{task:t.edittingTask},on:{close:t.closeTaskDialog,submit:t.saveTaskDialog,setParent:function(e){t.edittingTask.parent=e},setTitle:function(e){t.edittingTask.title=e}}})],1)],1)},le=[],de=n("3835"),ue=(n("4fad"),n("3683")),ve=Object(c["a"])({components:{TaskCard:ft,EditableText:Ut},data:function(){return{edittingTask:null,dialog:!1}},methods:{dateLocalize:function(t){return Object(J["a"])(t,"yyyy-MM-dd",{locale:st["a"]})},getStatusLabel:function(t){return Object.entries(It).map((function(t){var e=Object(de["a"])(t,2),n=(e[0],e[1]);return n}))[t]},openTaskDialog:function(t){this.edittingTask=Object.assign({},t),this.dialog=!0},closeTaskDialog:function(){this.dialog=!1},saveTaskDialog:function(){this.$store.commit("updateTask",this.edittingTask),this.closeTaskDialog()},differenceInDays:ue["a"]},computed:{tasks:function(){return this.$store.state.tasks}}}),fe=ve,he=n("1f4f"),pe=Object(u["a"])(fe,ce,le,!1,null,null,null),ge=pe.exports;f()(pe,{VBtn:j["a"],VDialog:se["a"],VDivider:h["a"],VList:g["a"],VListItem:m["a"],VListItemGroup:E["a"],VMenu:F["a"],VSimpleTable:he["a"],VToolbar:ie["a"],VToolbarTitle:L["b"]});var me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kanban"},[n("v-toolbar",{attrs:{dense:"",flat:""}},[n("v-toolbar-title",[t._v("Kanban")]),n("v-divider",{staticClass:"mx-4",attrs:{vertical:"",inset:""}}),n("v-toolbar-items")],1),n("board-task",{staticClass:"board-task",attrs:{tasks:t.tasks}})],1)},ke=[],be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"boardTask"},[n("task-list",{attrs:{dragging:t.dragging,tasks:t.naTasks,title:"N/A",status:null},on:{"update:dragging":function(e){t.dragging=e}}}),n("task-list",{attrs:{dragging:t.dragging,tasks:t.todoTasks,title:"TODO",status:0},on:{"update:dragging":function(e){t.dragging=e}}}),n("task-list",{attrs:{dragging:t.dragging,tasks:t.wipTasks,title:"WIP",status:1},on:{"update:dragging":function(e){t.dragging=e}}}),n("task-list",{attrs:{dragging:t.dragging,tasks:t.doneTasks,title:"DONE",status:2},on:{"update:dragging":function(e){t.dragging=e}}})],1)},ye=[],_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tasklist",class:{dragover:t.dragover},on:{dragover:t.dragover,dragleave:t.dragleave,dragenter:function(e){return t.dragenter(e)},drop:function(e){return t.drop(e)}}},[n("h2",{staticClass:"title"},[t._v(t._s(t.title)+" ("+t._s(t.tasks.length)+")")]),n("div",{staticClass:"scrollble"},t._l(t.tasks,(function(e){return n("task-card",{key:e.id,staticClass:"card",attrs:{dragging:t._dragging,task:e},on:{"update:dragging":function(e){t._dragging=e}}})})),1)])},xe=[],Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"taskcard",class:{dragging:t.dragging===t.task.id},attrs:{draggable:"true"},on:{dragstart:function(e){return t.dragstart(t.task,e)},dragend:function(e){return t.dragend(e)}}},[n("h3",{staticClass:"tasktitle"},[t._v("#"+t._s(t.task.id)+": "+t._s(t.task.title))]),t._v(" "+t._s(t.dateLocalize(t.task.start))+" ～ "+t._s(t.dateLocalize(t.task.end))+" ")])},De=[],Oe=Object(c["a"])({props:{task:Object},data:function(){return{dragging:null}},methods:{dateLocalize:function(t){return Object(J["a"])(t,"yyyy-MM-dd")},dragstart:function(t,e){e.dataTransfer.setData("text/plain",""),this.$emit("update:dragging",t.id)},dragend:function(t){this.$emit("update:dragging",null)}}}),Se=Oe,we=(n("5897"),Object(u["a"])(Se,Te,De,!1,null,"47d234f3",null)),Ie=we.exports,je=Object(c["a"])({components:{"task-card":Ie},props:{status:Number,title:String,tasks:Array,dragging:Number},data:function(){return{nowDragover:!1,selectedList:null}},computed:{_dragging:{get:function(){return this.dragging},set:function(t){this.$emit("update:dragging",t)}}},methods:{dragenter:function(t){null!==this.dragging&&(this.nowDragover=!0)},dragleave:function(t){null!==this.dragging&&(this.nowDragover=!1)},dragover:function(t){null!==this.dragging&&this.dragging!==this.status&&t.preventDefault()},drop:function(t){if(t.preventDefault(),null!==this.dragging){var e=Object.assign(this.$store.getters.getTaskById(this.dragging),{});e.status=this.status,this.$store.commit("updateTask",e),this.$emit("update:dragging",null)}}}}),Ve=je,Ce=(n("a643"),Object(u["a"])(Ve,_e,xe,!1,null,"81f36378",null)),Me=Ce.exports,$e=Object(c["a"])({props:{tasks:Array},data:function(){return{dragging:null}},computed:{naTasks:function(){return this.tasks.filter((function(t){return null===t.status}))},todoTasks:function(){return this.tasks.filter((function(t){return 0===t.status}))},wipTasks:function(){return this.tasks.filter((function(t){return 1===t.status}))},doneTasks:function(){return this.tasks.filter((function(t){return 2===t.status}))}},components:{"task-list":Me}}),Ee=$e,Ne=(n("51a2"),Object(u["a"])(Ee,be,ye,!1,null,"bf78601e",null)),Fe=Ne.exports,Re=Object(c["a"])({computed:{tasks:function(){return this.$store.state.tasks}},methods:{dateLocalize:function(t){return Object(J["a"])(t,"yyyy-MM-dd")}},components:{"board-task":Fe}}),We=Re,Le=(n("e012"),Object(u["a"])(We,me,ke,!1,null,"4712e510",null)),Be=Le.exports;f()(Le,{VDivider:h["a"],VToolbar:ie["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"]});var Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"calendar"},[n("v-toolbar",{attrs:{dense:"",flat:""}},[n("v-toolbar-title",[t._v("Calendar")]),n("v-divider",{staticClass:"mx-4",attrs:{vertical:"",inset:""}}),n("v-btn",{attrs:{outlined:""},on:{click:t.setToday}},[t._v("Today")]),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(e){return t.$refs.calendar.prev()}}},[n("v-icon",[t._v("mdi-chevron-left")])],1),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(e){return t.$refs.calendar.next()}}},[n("v-icon",[t._v("mdi-chevron-right")])],1),n("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{text:"",color:"indigo",dark:""}},a),[t._v(" "+t._s(t.picker)+" ")])]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-card",[n("v-date-picker",{attrs:{type:"month"},model:{value:t.picker,callback:function(e){t.picker=e},expression:"picker"}})],1)],1)],1),n("v-calendar",{ref:"calendar",attrs:{type:"month",events:t.tasks,"event-color":"blue lighten-4","event-text-color":"black"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},Ae=[],He=Object(c["a"])({computed:{picker:{set:function(t){this.value=t+"-01"},get:function(){return this.value.substr(0,7)}},tasks:function(){return this.$store.state.tasks.map((function(t){return{name:t.title,start:Object(J["a"])(t.start,"yyyy-MM-dd"),end:Object(J["a"])(t.end,"yyyy-MM-dd")}}))}},data:function(){return{menu:!1,value:Object(J["a"])(new Date,"yyyy-MMd")}},methods:{setToday:function(){this.value=Object(J["a"])(new Date,"yyyy-MM-dd")}}}),ze=He,Ge=n("a4f6"),Ue=Object(u["a"])(ze,Pe,Ae,!1,null,null,null),Xe=Ue.exports;f()(Ue,{VBtn:j["a"],VCalendar:Ge["a"],VCard:C["a"],VDatePicker:lt["a"],VDivider:h["a"],VIcon:p["a"],VMenu:F["a"],VToolbar:ie["a"],VToolbarTitle:L["b"]});var Ke=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ye=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")])])}],Je={},qe=Object(u["a"])(Je,Ke,Ye,!1,null,null,null),Qe=qe.exports,Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"users"},[n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",[t._v("#")]),n("th",[t._v("First Name")]),n("th",[t._v("Last Name")]),n("th",[t._v("Email")])])]),n("tbody",t._l(t.users,(function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.id))]),n("td",[t._v(t._s(e.firstname))]),n("td",[t._v(t._s(e.lastname))]),n("td",[t._v(t._s(e.mail))])])})),0)]},proxy:!0}])})],1)},tn=[],en=Object(c["a"])({computed:{users:function(){return this.$store.state.users.items}}}),nn=en,an=Object(u["a"])(nn,Ze,tn,!1,null,null,null),sn=an.exports;f()(an,{VSimpleTable:he["a"]}),a["default"].use(A["a"]);var rn=[{path:"/",name:"home",component:X},{path:"/table",name:"table",component:ge},{path:"/kanban",name:"kanban",component:Be},{path:"/ganttchart",name:"ganttchart",component:oe},{path:"/calendar",name:"calendar",component:Xe},{path:"/users",name:"users",component:sn},{path:"/about",name:"about",component:Qe}],on=new A["a"]({mode:"hash",base:"/ganttfairy/",routes:rn}),cn=on,ln=n("1da1"),dn=(n("96cf"),n("a434"),n("159b"),n("5db7"),n("73d9"),n("7db0"),n("a15b"),n("ac1f"),n("1276"),n("fb6a"),n("498a"),n("25eb"),n("2f62"));n("25f0");function un(t){for(var e=new Date,n=["yyyy-MM-dd","M月d日","yyyy年M月d日"],a=0,s=n;a<s.length;a++){var i=s[a],r=Object(Q["a"])(t,i,e);if("Invalid Date"!==r.toString())return r}return null}var vn={items:[{id:1,firstname:"Foo",lastname:"Bar",mail:"foobar@example.com"}],nextId:2},fn={namespaced:!0,state:vn,getters:{count:function(t){return t.items.length}},mutations:{addUser:function(t,e){e.id=t.nextId,t.nextId=t.nextId+1,t.items.push(e)}},actions:{addUser:function(t,e){t.state;var n=t.commit;t.rootState;n("addUser",e)}}};a["default"].use(dn["a"]);for(var hn=[{id:1,parent:null,title:"見積もり",start:new Date("2019-11-11T00:00:00"),end:new Date("2019-11-20T00:00:00"),status:null},{id:2,parent:1,title:"見積もりレビュー",start:new Date("2019-11-21T00:00:00"),end:new Date("2019-11-22T00:00:00"),status:null},{id:3,parent:null,title:"設計",start:new Date("2019-11-30T00:00:00"),end:new Date("2019-12-10T00:00:00"),status:null},{id:4,parent:3,title:"設計レビュー",start:new Date("2019-12-11T00:00:00"),end:new Date("2019-12-12T00:00:00"),status:null}],pn=1;pn<50;pn++)hn.push({id:4+pn,parent:null,title:"モジュール"+pn,start:Object(Z["a"])(new Date("2019-12-20T00:00:00"),2*pn),end:Object(Z["a"])(new Date("2019-12-24T00:00:00"),3*pn),status:null});for(var gn=0,mn=hn;gn<mn.length;gn++){var kn=mn[gn];kn.status=It.TODO}var bn=[{id:1,type:wt.FinishToStart,from:2,to:3},{id:2,type:wt.FinishToFinish,from:4,to:5}],yn=hn.map((function(t){return{id:t.id,open:!0,children:[]}}));function _n(t){var e=[t.id];if(t.open&&t.children){var n,a=Object(Ct["a"])(t.children);try{for(a.s();!(n=a.n()).done;){var s=n.value;_n(s).forEach((function(t){return e.push(t)}))}}catch(i){a.e(i)}finally{a.f()}}return e}function xn(t,e){var n,a=Object(Ct["a"])(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.id===e)return s;var i=xn(s.children,e);if(null!==i)return i}}catch(r){a.e(r)}finally{a.f()}return null}yn[0].children.push(yn[1]),yn[2].children.push(yn[3]),yn.splice(3,1),yn.splice(1,1);var Tn=new dn["a"].Store({state:{tasks:hn,nextTaskId:54,title:"Unnamed",magnify:100,dependencies:bn,nextDependencyId:3,taskTreeNodes:yn},getters:{getFlatTreeTaskIds:function(t){return t.taskTreeNodes.flatMap((function(t){return _n(t)}))},getFlatTreeTasks:function(t,e){return e.getFlatTreeTaskIds.map((function(t){return e.getTaskById(t)}))},getTaskById:function(t){return function(e){return t.tasks.find((function(t){return t.id===e}))}},getChildrenTasksById:function(t){return function(e){return t.tasks.filter((function(t){return t.parent===e}))}},getAncestorTasksById:function(t,e){return function(t){var n=e.getTaskById(t),a=new Array;while(n.parent)a.push(n.parent);return a}},getSiblingTasksById:function(t,e){return function(t){var n=e.getChildrenTasksById(t),a=n.flatMap((function(t){return e.getSiblingTasksById(t.id)}));return n.concat(a)}},getFastDateLastDateOfTasks:function(t,e){return function(t){var n=e.getTaskById(t),a=e.getSiblingTasksById(t);if(0===a.length)return null;for(var s=n.start,i=n.end,r=0;r<a.length;r++)a[r].start<s&&(s=a[r].start),i<a[r].end&&(i=a[r].end);return{fast:s,last:i}}},getDeduplicatedSpansOfSiblingTask:function(t,e){return function(t){var n=e.getSiblingTasksById(t);if(0==n.length)return[];var a,s=n.map((function(t){return{s:t.start,e:t.end}})).sort((function(t,e){return t.s-e.s})),i=s[0].s,r=s[0].e,o=[],c=Object(Ct["a"])(s.filter((function(t,e){return e>0})));try{for(c.s();!(a=c.n()).done;){var l=a.value;r<l.s?(o.push({s:i,e:r}),i=l.s,r=l.e):r<l.e&&(r=l.e)}}catch(d){c.e(d)}finally{c.f()}return o.push({s:i,e:r}),o}}},mutations:{setTitle:function(t,e){t.title=e},updateTask:function(t,e){var n=t.tasks.findIndex((function(t){return t.id===e.id}));if(-1===n)throw new RangeError;t.tasks.splice(n,1,e)},moveTaskTreeNode:function(t,e){var n=t.tasks.find((function(t){return t.id===e.taskId}));if(void 0===n)throw new RangeError;var a=n.parent,s=void 0;if(a){var i=xn(t.taskTreeNodes,a);s=i.children.find((function(t){return t.id===e.taskId})),i.children=i.children.filter((function(t){return t.id!==e.taskId}))}else s=t.taskTreeNodes.find((function(t){return t.id===e.taskId})),t.taskTreeNodes=t.taskTreeNodes.filter((function(t){return t.id!==e.taskId}));if(e.parentId){var r=xn(t.taskTreeNodes,e.parentId);e.index?r.children.splice(e.index,0,s):r.children.push(s)}else e.index?t.taskTreeNodes.splice(e.index,0,s):t.taskTreeNodes.push(s)},addTask:function(t,e){if(e.id=t.nextTaskId++,t.tasks.push(Object.assign({},e)),e.parent){var n=xn(t.taskTreeNodes,e.parent);n.children.push({id:e.id,open:!0,children:[]})}else t.taskTreeNodes.push({id:e.id,open:!0,children:[]})},setTasks:function(t,e){t.tasks=e},deleteTask:function(t,e){var n=t.tasks.findIndex((function(t){return t.id===e}));if(-1===n)throw new RangeError;t.tasks.splice(n,1);var a,s=t.tasks.filter((function(t){return t.parent===e})),i=Object(Ct["a"])(s);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.parent=null}}catch(o){i.e(o)}finally{i.f()}},setMagnify:function(t,e){t.magnify=e},deleteDependency:function(t,e){var n=t.dependencies.findIndex((function(t){return t.id===e}));if(-1===n)throw new RangeError("invalid Dependency id: "+e);t.dependencies.splice(n,1)},addDependency:function(t,e){e.id=t.nextDependencyId++,t.dependencies.push(e)}},actions:{exportCSV:function(t,e){return Object(ln["a"])(regeneratorRuntime.mark((function n(){var a,s,i,r,o,c,l,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(a=t.state,s=["#","title","start","end"].join(e.seprator),i=[s],r=a.tasks,o=0;o<r.length;o++)c=r[o],l=Object(J["a"])(c.start,"yyyy-MM-dd"),d=Object(J["a"])(c.end,"yyyy-MM-dd"),i.push([c.id,c.title,l,d].join(e.seprator));return n.abrupt("return",i.join("\n"));case 6:case"end":return n.stop()}}),n)})))()},importCSV:function(t,e){return Object(ln["a"])(regeneratorRuntime.mark((function n(){var a,s,i,r,o,c,l,d,u,v,f,h,p,g,m,k,b,y,_;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.commit,t.state,s=e.split("\n"),!(s.length<=1)){n.next=4;break}throw new Error("Not enough lines. Need 2+ lines.");case 4:if(i=s[0].includes("\t"),r=s[0].split(i?"\t":","),!(r.length<=3)){n.next=8;break}throw new Error("Not enough columns. Need 4+ columns.");case 8:o=!0,c=Object(Ct["a"])(r),n.prev=10,c.s();case 12:if((l=c.n()).done){n.next=19;break}if(d=l.value,null===un(d)){n.next=17;break}return o=!0,n.abrupt("break",19);case 17:n.next=12;break;case 19:n.next=24;break;case 21:n.prev=21,n.t0=n["catch"](10),c.e(n.t0);case 24:return n.prev=24,c.f(),n.finish(24);case 27:u=o?s.slice(1):s,v=new Array,f=Object(Ct["a"])(u),n.prev=30,f.s();case 32:if((h=f.n()).done){n.next=45;break}if(p=h.value,""!==p){n.next=36;break}return n.abrupt("continue",43);case 36:g=p.split(i?"\t":",").map((function(t){return t.trim()})),m=Number.parseInt(g[0]),k=g[1],b=un(g[2]),y=un(g[3]),_={id:m,title:k,start:b,end:y},v.push(_);case 43:n.next=32;break;case 45:n.next=50;break;case 47:n.prev=47,n.t1=n["catch"](30),f.e(n.t1);case 50:return n.prev=50,f.f(),n.finish(50);case 53:a("setTasks",v);case 54:case"end":return n.stop()}}),n,null,[[10,21,24,27],[30,47,50,53]])})))()},updateTaskWithTree:function(t,e){return Object(ln["a"])(regeneratorRuntime.mark((function n(){var a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.state,a=t.getters,s=t.commit,i=a.getTaskById(e.id),i.parent!==e.parent&&s("moveTaskTreeNode",{taskId:e.id,parentId:e.parent}),s("updateTask",e);case 4:case"end":return n.stop()}}),n)})))()}},modules:{users:fn}}),Dn=n("f309");a["default"].use(Dn["a"]);var On=new Dn["a"]({});a["default"].config.productionTip=!1,new a["default"]({router:cn,store:Tn,vuetify:On,render:function(t){return t(P)}}).$mount("#app")},d217:function(t,e,n){"use strict";n("4969")},e012:function(t,e,n){"use strict";n("3ad7")},e753:function(t,e,n){},f55c:function(t,e,n){"use strict";n("620e")}});
//# sourceMappingURL=app.a4683a63.js.map